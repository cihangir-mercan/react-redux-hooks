(this["webpackJsonpmovie-flask"]=this["webpackJsonpmovie-flask"]||[]).push([[0],{132:function(e,t,n){e.exports=n(190)},144:function(e,t,n){},145:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){},148:function(e,t,n){},190:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(4),r=n.n(i),o=n(10),l=n(62),s=n(11),u=(n(141),n(142),n(143),n(144),n(197)),d=(n(145),n(42),n(43),n(195)),m=n(69),f=n(17),p=n(198),h=new(n(64).a)("ReactReduxDB");h.version(1).stores({movies:"++id"});var v=h,E=function(e){var t=e.type,n=e.children,i=Object(a.useRef)(null),r=Object(s.b)(),o=Object(p.a)({accept:"card",drop:function(e){var n,a;r((n=e.id,a=t,function(e){v.table("movies").update(n,{which:a}).then((function(){e({type:"UPDATE_MOVIE",payload:{id:n,which:a}})}))}))}});return(0,Object(f.a)(o,2)[1])(i),c.a.createElement("div",{ref:i,className:"list "+t+"-list"},n)},b=n(199),g=function(e){var t=e.id,n=e.title,i=Object(a.useRef)(null),r=Object(b.a)({item:{type:"card",id:t},collect:function(e){return{isDragging:e.isDragging()}}}),o=Object(f.a)(r,2),l=o[0].isDragging?0:1;return(0,o[1])(i),c.a.createElement("div",{ref:i,style:{opacity:l},className:"bp3-card bp3-interactive bp3-elevation-0 card"},c.a.createElement("h5",{className:"bp3-heading"},"   ",n))},w=(n(146),function(){var e=Object(s.c)((function(e){return e.movies}))||[],t=Object(s.b)();return Object(a.useEffect)((function(){t((function(e){v.table("movies").toCollection().sortBy("id").then((function(t){e({type:"LOAD_MOVIES",payload:t})}))}))}),[t]),c.a.createElement(d.a,{backend:m.a},c.a.createElement("section",{className:"list-container"},c.a.createElement(E,{type:"watch"},e.filter((function(e){return"watch"===e.which})).map((function(e){return c.a.createElement(g,{key:e.id,id:e.id,title:e.title})}))),c.a.createElement(E,{type:"fav"},e.filter((function(e){return"fav"===e.which})).map((function(e){return c.a.createElement(g,{key:e.id,id:e.id,title:e.title})})))))}),O=(n(147),function(){var e=Object(a.useState)(""),t=Object(f.a)(e,2),n=t[0],i=t[1],r=Object(s.b)(),o=function(e,t){return r(function(e,t){return function(n){var a={title:e,which:"watch"};v.table("movies").add(a).then((function(e){n({type:"ADD_MOVIE",payload:Object.assign({},a,{id:e})}),t()}))}}(e,t))};return c.a.createElement("div",{className:"search-container"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o(n,(function(){i("")}))}},c.a.createElement("div",{className:"bp3-input-group bp3-large "},c.a.createElement("span",{className:"bp3-icon bp3-icon-plus"}),c.a.createElement("input",{className:"bp3-input",placeholder:"Add Movie to Watch List",value:n,onChange:function(e){return i(e.target.value)}}))))}),y=(n(148),function(){return c.a.createElement("div",{className:"titles-container"},c.a.createElement("div",{className:"bp3-heading"},"Watch List"),c.a.createElement("div",{className:"bp3-heading"},"Fav List"))}),j=n(37),D=n(65),N=n.n(D);var k=function(){return Object(a.useEffect)((function(){!function(){var e,t;Object(j.getFCP)((function(n){e=n.value,Object(j.getTTFB)((function(n){t=n.value;var a=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart,c=window.performance.timing.domComplete-window.performance.timing.navigationStart,i=[];window.performance.getEntriesByType("resource").forEach((function(e){i.push({name:e.name,duration:e.duration})}));N()({method:"post",url:"https://perfanalytics-backend.herokuapp.com/analytics",data:{ttfb:t,fcp:e,domLoad:a,windowLoad:c,networkTimings:i}}).then((function(e){console.log("performance analytics are send to the api")})).catch((function(e){console.log("error while sending performance analytics to the api")}))}))}))}()}),[]),c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"header"},c.a.createElement(O,null),c.a.createElement(y,null)),c.a.createElement("div",{className:"main"},c.a.createElement(w,null)),c.a.createElement("div",{className:"footer"},c.a.createElement(u.a,{icon:"trash",iconSize:80})))},I=function(e){e&&e instanceof Function&&Promise.resolve().then(n.bind(null,37)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.id;switch(n){case"SET_SELECTED_MOVIE_ID":return a;default:return e}},T=n(30),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"LOAD_MOVIES":return a;case"ADD_MOVIE":return[].concat(Object(T.a)(e),[a]);case"UPDATE_MOVIE":var c=e.find((function(e){return e.id===a.id})),i=e.indexOf(c),r=Object.assign({},c,{which:a.which});return[].concat(Object(T.a)(e.slice(0,i)),Object(T.a)(e.slice(i+1)),[r]);case"DELETE_MOVIE":return e.filter((function(e){return e.id!==a}));default:return e}},_=Object(o.c)({movies:S,selectedTodoId:L}),C=Object(o.d)(_,Object(o.a)(l.a));r.a.render(c.a.createElement(s.a,{store:C},c.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),I()},42:function(e,t,n){},43:function(e,t,n){}},[[132,1,2]]]);
//# sourceMappingURL=main.d04d7e33.chunk.js.map