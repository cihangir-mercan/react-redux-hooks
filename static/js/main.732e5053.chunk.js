(this["webpackJsonpmovie-flask"]=this["webpackJsonpmovie-flask"]||[]).push([[0],{120:function(e,t,n){e.exports=n(160)},132:function(e,t,n){},133:function(e,t,n){},160:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(4),r=n.n(i),o=n(9),l=n(51),s=n(10),u=(n(129),n(130),n(131),n(132),n(167)),d=(n(133),n(41),n(30),n(165)),f=n(57),m=n(16),v=n(168),h=new(n(53).a)("ReactReduxDB");h.version(1).stores({movies:"++id"});var p=h,E=function(e){var t=e.type,n=e.children,i=Object(a.useRef)(null),r=Object(s.b)(),o=Object(v.a)({accept:"card",drop:function(e){var n,a;r((n=e.id,a=t,function(e){p.table("movies").update(n,{which:a}).then((function(){e({type:"UPDATE_MOVIE",payload:{id:n,which:a}})}))}))}});return(0,Object(m.a)(o,2)[1])(i),c.a.createElement("div",{ref:i,className:"list "+t+"-list"},n)},b=n(169),O=function(e){var t=e.id,n=e.title,i=Object(a.useRef)(null),r=Object(b.a)({item:{type:"card",id:t},collect:function(e){return{isDragging:e.isDragging()}}}),o=Object(m.a)(r,2),l=o[0].isDragging?0:1;return(0,o[1])(i),c.a.createElement("div",{ref:i,style:{opacity:l},className:"bp3-card bp3-interactive bp3-elevation-0 card"},c.a.createElement("h5",{className:"bp3-heading"},"   ",n))},g=function(){var e=Object(s.c)((function(e){return e.movies}))||[],t=Object(s.b)();return Object(a.useEffect)((function(){t((function(e){p.table("movies").toCollection().sortBy("id").then((function(t){e({type:"LOAD_MOVIES",payload:t})}))}))}),[t]),console.log("rendered",e),c.a.createElement(d.a,{backend:f.a},c.a.createElement("section",{className:"list-container"},c.a.createElement(E,{type:"watch"},e.filter((function(e){return"watch"===e.which})).map((function(e){return c.a.createElement(O,{key:e.id,id:e.id,title:e.title})}))),c.a.createElement(E,{type:"fav"},e.filter((function(e){return"fav"===e.which})).map((function(e){return c.a.createElement(O,{key:e.id,id:e.id,title:e.title})})))))},j=function(){var e=Object(a.useState)(""),t=Object(m.a)(e,2),n=t[0],i=t[1],r=Object(s.b)(),o=function(e,t){return r(function(e,t){return function(n){var a={title:e,which:"watch"};console.log("test"),p.table("movies").add(a).then((function(e){n({type:"ADD_MOVIE",payload:Object.assign({},a,{id:e})}),t()}))}}(e,t))};return c.a.createElement("div",{className:"search-container"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o(n,(function(){i("")}))}},c.a.createElement("div",{className:"bp3-input-group bp3-large "},c.a.createElement("span",{className:"bp3-icon bp3-icon-plus"}),c.a.createElement("input",{className:"bp3-input",placeholder:"Add Movie to Watch List",value:n,onChange:function(e){return i(e.target.value)}}))))};var w=function(){return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"header"},c.a.createElement(j,null)),c.a.createElement("div",{className:"main"},c.a.createElement(g,null)),c.a.createElement("div",{className:"footer"},c.a.createElement(u.a,{icon:"trash",iconSize:80})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.id;switch(n){case"SET_SELECTED_MOVIE_ID":return a;default:return e}},D=n(29),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"LOAD_MOVIES":return a;case"ADD_MOVIE":return[].concat(Object(D.a)(e),[a]);case"UPDATE_MOVIE":var c=e.find((function(e){return e.id===a.id})),i=e.indexOf(c),r=Object.assign({},c,{which:a.which});return[].concat(Object(D.a)(e.slice(0,i)),[r],Object(D.a)(e.slice(i+1)));case"DELETE_MOVIE":return e.filter((function(e){return e.id!==a}));default:return e}},I=Object(o.c)({movies:N,selectedTodoId:y}),_=Object(o.d)(I,Object(o.a)(l.a));r.a.render(c.a.createElement(s.a,{store:_},c.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},30:function(e,t,n){},41:function(e,t,n){}},[[120,1,2]]]);
//# sourceMappingURL=main.732e5053.chunk.js.map